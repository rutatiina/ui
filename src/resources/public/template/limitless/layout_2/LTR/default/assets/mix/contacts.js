!function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=2)}({2:function(t,e,a){t.exports=a("lWaa")},lWaa:function(t,e){rg_contacts={init:function(){try{$(".rg_datatable_sidebar").DataTable({serverSide:!0,ajax:"/contacts/datatable/",pagingType:"simple",language:{paginate:{next:"Next &rarr;",previous:"&larr; Prev"}},columnDefs:[{targets:[0],orderable:!0}],aaSorting:[[0,"asc"]],info:!1,bLengthChange:!1,bFilter:!1,iDisplayLength:20,aoColumns:[{mDataProp:"name",sClass:"pl-5 pr-5"}],fnRowCallback:function(t,e,a,n){$("td:eq(0)",t).html('<a href="/contacts/summary/'+e.id+'">'+e.name_sidebar+"</a>")}})}catch(t){console.log(t)}try{t=$(".rg-datatable").DataTable({serverSide:!0,buttons:{dom:{button:{className:"btn btn-default"}},buttons:[{extend:"copyHtml5",className:"btn btn-default btn-icon",text:'<i class="icon-copy3"></i>'},{extend:"excelHtml5",className:"btn btn-default btn-icon",text:'<i class="icon-file-excel"></i>'},{extend:"pdfHtml5",className:"btn btn-default btn-icon",text:'<i class="icon-file-pdf"></i>'}]},ajax:"/contacts/datatable/",pagingType:"simple",language:{paginate:{next:"Next &rarr;",previous:"&larr; Prev"}},iDisplayLength:20,aLengthMenu:[[10,20,50,100],[10,20,50,100]],columnDefs:[{targets:[2],orderable:!0},{targets:0,orderable:!1,checkboxes:{selectRow:!0,selectCallback:function(t,e,a){t.column(0).checkboxes.selected().length>0?($(".rg_datatable_onselect_btns").show(),$(".page-header").hide()):($(".rg_datatable_onselect_btns").hide(),$(".page-header").show())}}},{targets:[0,1],orderable:!1}],aaSorting:[[2,"asc"]],select:{style:"multi",selector:"td:first-child"},aoColumns:[{mDataProp:"id"},{mDataProp:null,sClass:"text-center pl-5"},{mDataProp:"name",sClass:"pl-5"},{mDataProp:"display_name",sClass:""},{mDataProp:"contact_phone",sClass:""},{mDataProp:"category",sClass:""},{mDataProp:"receviables",sClass:"text-right"},{mDataProp:"payables",sClass:"text-right"}],fnRowCallback:function(t,e,a,n){$("td:eq(1)",t).html('<a href="/contacts/update/'+e.id+'"><i class="icon-pencil7"></i></a>'),$("td:eq(2)",t).html('<a href="/contacts/summary/'+e.id+'">'+e.name+"</a>"),$("td:eq(5)",t).html('<span class="text-size-small text-muted">'+e.category.replace(",",", ")+"</span>")}}),$("#navbar_top_search").keypress(function(e){13==e.which&&(e.preventDefault(),t.search($(this).val()).draw())}),$(".rg_datatable_selected_delete, .rg_datatable_row_delete").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=[],n=rg_empty($(this).data("url"))?$(this).attr("href"):$(this).data("url"),o=t.column(0).checkboxes.selected();$.each(o,function(t,e){a[t]=e}),swal({title:"Are you sure?",text:"You will not be able to recover the contact(s)!",type:"warning",showCancelButton:!0,confirmButtonColor:"#EF5350",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel pls!",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(e){e&&$.ajax({url:n,method:"POST",data:{ids:a},dataType:"json",success:function(e,a,n,o){!0===e.status?(swal({title:"Deleted!",text:e.message,confirmButtonColor:"#66BB6A",type:"success",timer:2e3}),t.ajax.reload(),$(".rg_datatable_onselect_btns").slideUp(100)):swal({title:"Failed!",text:e.message,confirmButtonColor:"#66BB6A",type:"danger",timer:2e3})}})})}),$(".rg_datatable_selected_deactivate, .rg_datatable_row_deactivate").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=[],n=rg_empty($(this).data("url"))?$(this).attr("href"):$(this).data("url"),o=t.column(0).checkboxes.selected();$.each(o,function(t,e){a[t]=e}),swal({title:"Are you sure?",text:"You want to deactivate contact(s)!",type:"warning",showCancelButton:!0,confirmButtonColor:"#EF5350",confirmButtonText:"Yes, deactivate it!",cancelButtonText:"No, cancel pls!",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(e){e&&$.ajax({url:n,method:"POST",data:{ids:a},dataType:"json",success:function(e,a,n,o){!0===e.status?(swal({title:"Deleted!",text:e.message,confirmButtonColor:"#66BB6A",type:"success",timer:2e3}),t.ajax.reload(),$(".rg_datatable_onselect_btns").slideUp(100)):swal({title:"Failed!",text:e.message,confirmButtonColor:"#66BB6A",type:"error",timer:2e3})}})})}),$(".rg_datatable_selected_activate, .rg_datatable_row_activate").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=[],n=rg_empty($(this).data("url"))?$(this).attr("href"):$(this).data("url"),o=t.column(0).checkboxes.selected();$.each(o,function(t,e){a[t]=e}),swal({title:"Are you sure?",text:"You want to activate contact(s)!",type:"warning",showCancelButton:!0,confirmButtonColor:"#EF5350",confirmButtonText:"Yes, activate it!",cancelButtonText:"No, cancel pls!",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},function(e){e&&$.ajax({url:n,method:"POST",data:{ids:a},dataType:"json",success:function(e,a,n,o){!0===e.status?(swal({title:"Deleted!",text:e.message,confirmButtonColor:"#66BB6A",type:"success",timer:2e3}),t.ajax.reload(),$(".rg_datatable_onselect_btns").slideUp(100)):swal({title:"Failed!",text:e.message,confirmButtonColor:"#66BB6A",type:"error",timer:2e3})}})})})}catch(t){console.log(t)}var t;try{$(".rg_datatable_sales").DataTable({serverSide:!0,pagingType:"simple",language:{paginate:{next:"Next &rarr;",previous:"&larr; Prev"}},columnDefs:[{targets:"no-sort",orderable:!1}],aaSorting:[[0,"desc"]],info:!1,bLengthChange:!1,bFilter:!1,iDisplayLength:50,aoColumns:[{mDataProp:"date",sClass:""},{mDataProp:"number",sClass:""},{mDataProp:"reference",sClass:""},{mDataProp:"status",sClass:""},{mDataProp:"total",sClass:"text-right"}],fnRowCallback:function(t,e,a,n){$("td:eq(4)",t).html(rg_number_format(e.total)+" "+e.base_currency)}})}catch(t){console.log(t)}}},jQuery(document).ready(function(){$.extend($.fn.dataTable.defaults,{autoWidth:!1,columnDefs:[{orderable:!1,width:"100px",targets:[5]}],dom:'<"datatable-scroll-wrap"t><"datatable-footer"ip>',language:{search:"_INPUT_",searchPlaceholder:"Type to search ...",lengthMenu:"<span>Show:</span> _MENU_",paginate:{first:"First",last:"Last",next:"&rarr;",previous:"&larr;"}},drawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").addClass("dropup")},preDrawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").removeClass("dropup")}}),rg_contacts.init()})}});