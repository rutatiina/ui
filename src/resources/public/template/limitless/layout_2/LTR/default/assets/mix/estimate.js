!function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=8)}({8:function(t,e,a){t.exports=a("fkCG")},fkCG:function(t,e){var a;rg_estimates=(a=function(){var t=$(".rg-datatable-txns-table"),e=t.DataTable({buttons:{dom:{button:{className:"btn btn-default"}},buttons:[{extend:"copyHtml5",className:"btn btn-default btn-icon",text:'<i class="icon-copy3"></i>'},{extend:"excelHtml5",className:"btn btn-default btn-icon",text:'<i class="icon-file-excel"></i>'},{extend:"pdfHtml5",className:"btn btn-default btn-icon",text:'<i class="icon-file-pdf"></i>'}]},pagingType:"simple",language:{paginate:{next:"Next &rarr;",previous:"&larr; Prev"}},iDisplayLength:20,aLengthMenu:[[10,20,50,100],[10,20,50,100]],columnDefs:[{targets:0,orderable:!1,checkboxes:{selectRow:!0,selectCallback:function(t,e,a){t.column(0).checkboxes.selected().length>0?($(".rg_datatable_onselect_btns").show(),$(".page-header").hide()):($(".rg_datatable_onselect_btns").hide(),$(".page-header").show())}}},{targets:[0,4,5,6],orderable:!1}],select:{style:"multi",selector:"td:first-child"},order:[[0,!1]],processing:!0,serverSide:!0,ordering:!1,aoColumns:[{mDataProp:"id"},{mDataProp:null,sClass:"process"},{mDataProp:"date",sClass:"pointer "},{mDataProp:"number",sClass:"pointer "},{mDataProp:"reference",sClass:"pointer "},{mDataProp:"contact_name",sClass:"pointer "},{mDataProp:"status",sClass:"pointer "},{mDataProp:"expiry_date",sClass:"pointer "},{mDataProp:"total",sClass:"pointer text-right text-semibold"}],fnRowCallback:function(t,e,a,n){$("td:eq(1)",t).html('<i class="icon-chevron-down"></i>'),$("td:eq(8)",t).html(rg_number_format(e.total)+" "+e.base_currency),rg_empty(e.app)||$("td:eq(0)",t).find("input[type=checkbox]").attr("disabled",!0),$("td:gt(1)",t).click((function(){document.location.href=e.link_show})),$(t).hover((function(){$(this).addClass("text-primary")}),(function(){$(this).removeClass("text-primary")}))}});$("body").on("click",".rg_datatable_selected_delete, .rg_datatable_row_delete",(function(t){t.stopPropagation(),t.preventDefault();var a=[],n=rg_empty($(this).data("url"))?$(this).attr("href"):$(this).data("url"),o=e.column(0).checkboxes.selected();$.each(o,(function(t,e){a[t]=e})),swal({title:"Are you sure?",text:"You will not be able to recover the record(s)!",type:"warning",showCancelButton:!0,confirmButtonColor:"#EF5350",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel pls!",closeOnConfirm:!1,closeOnCancel:!0,showLoaderOnConfirm:!0},(function(t){t&&$.ajax({url:n,method:"POST",data:{ids:a},dataType:"json",success:function(t,a,n,o){!0===t.status?(swal({title:"Deleted!",text:t.message,confirmButtonColor:"#66BB6A",type:"success",timer:2e3}),e.ajax.reload(),$(".rg_datatable_onselect_btns").slideUp(100)):swal({title:"Failed!",text:t.message,confirmButtonColor:"#66BB6A",type:"danger",timer:2e3})}})}))})),$("body").on("click",".rg_datatable_selected_export_to_excel",(function(t){console.log("export to excel"),t.stopPropagation(),t.preventDefault();var a=[],n=rg_empty($(this).data("url"))?$(this).attr("href"):$(this).data("url"),o=e.column(0).checkboxes.selected();try{$.each(o,(function(t,e){a["ids["+t+"]"]=e}))}catch(t){}rg_js_post(n,a,"post")}));var a=[];return t.on("click","tr td.process",(function(){var t,n=$(this),o=n.closest("tr"),r=e.row(o),s=$.inArray(o.attr("id"),a);if(n.html('<i class="icon-chevron-down"></i>'),o.next().find(".txn_process_to").length)return r.child.hide(),!0;e.rows().eq(0).each((function(t){e.row(t).child.hide()})),r.child.isShown()?(o.removeClass("details"),r.child.hide(),a.splice(s,1)):(n.html('<i class="icon-chevron-up text-grey-300"></i>'),o.addClass("details"),r.child((t=r.data(),'            <form id="txn_process_to_'+t.id+'" class="txn_process_to" action="'+t.link_process+'" method="post" class="form-horizontal" target="_blank">                <input type="hidden" name="txn_id" value="'+t.id+'">                <input type="hidden" name="_token" value="'+$('meta[name="csrf-token"]').attr("content")+'">                <div class="col-lg-3" style="margin-left:45px;">                    <div class="input-group">                        <span class="input-group-addon label-roundless">Process into: </span>                        <select name="process_to" class="select" data-placeholder="Choose ..."  data-allow-clear="true">                            <option value="">Choose</option>                            <option value="retainer_invoice">Retainer Invoice</option>                            <option value="sales_order">Sales Order</option>                            <option value="invoice">Invoice</option>                            <option value="recurring_invoice">Recurring Invoice</option>                        </select>                    </div>                </div>                <div class="col-lg-3">                    <button type="submit" class="btn btn-danger btn-labeled input-roundless"><b><i class="icon-chevron-right"></i></b> Continue</button>                </div>            </form>')).show(),$("tr:not(.details) .txn_process_to select").select2({}),-1===s&&a.push(o.attr("id")))})),t.is(":visible")&&$("#navbar_top_search").keypress((function(t){13===t.which&&(t.preventDefault(),e.search($(this).val()).draw())})),e},{init:function(){$("body").on("click",".rg-ajax-accounting-sales-estimate-destroy",(function(t){var e=$(this),a=e.data("callback");t.stopPropagation(),t.preventDefault(),rutatiina.transaction_delete({datatable:null,url:e.attr("href"),method:"POST",data:{_method:"DELETE"},onSuccessCallback:function(){a&&window.location.replace(a)},onFailureCallback:function(){},title:"Are you sure?",text:"You will not be able to recover this Estimate!",type:"warning",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel pls!"})}));try{t=$(".rg_datatable_sidebar"),e=t.data("txn-id"),n=t.DataTable({pagingType:"simple",language:{paginate:{next:"Next &rarr;",previous:"&larr; Prev"}},columnDefs:[{targets:[0,1],orderable:!1}],processing:!0,serverSide:!0,ordering:!1,info:!1,bLengthChange:!1,iDisplayLength:20,aoColumns:[{mDataProp:"number",sClass:"pointer "},{mDataProp:"total",sClass:"pointer "}],fnRowCallback:function(t,a,n,o){a.id==e&&$(t).addClass("active");var r='<h6 class="no-margin"><span>'+a.contact_name+'</span><small class="display-block text-muted"><span>'+a.number+"</span></small></h6>",s='<h6 class="no-margin text-right"><small>'+a.quote_currency+"</small> "+rg_number_format(a.total,rg_decimal_places)+'<small class="display-block text-muted text-size-small">'+a.date+"</small></h6>";$("td:eq(0)",t).html(r),$("td:eq(1)",t).html(s),$("td",t).click((function(){document.location.href=a.link_show})),$(t).hover((function(){$(this).addClass("text-primary")}),(function(){$(this).removeClass("text-primary")}))}}),$("#quick-sort").on("click","ul li a",(function(){$(this).parents("#quick-sort").find(".dropdown-title").html($(this).html()).data("ajax",$(this).data("ajax")),n.ajax.url($(this).data("ajax")).load()})),t.is(":visible")&&$("#navbar_top_search").keypress((function(t){13===t.which&&(t.preventDefault(),n.search($(this).val()).draw())}))}catch(t){console.log(t)}var t,e,n;try{a()}catch(t){console.log(t)}}}),jQuery(document).ready((function(){$.extend($.fn.dataTable.defaults,{autoWidth:!1,columnDefs:[{orderable:!1,width:"100px",targets:[5]}],dom:'<"datatable-scroll-wrap"t><"datatable-footer"ip>',language:{search:"<span>Filter:</span> _INPUT_",searchPlaceholder:"Type to filter...",lengthMenu:"<span>Show:</span> _MENU_",paginate:{first:"First",last:"Last",next:"&rarr;",previous:"&larr;"}},drawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").addClass("dropup")},preDrawCallback:function(){$(this).find("tbody tr").slice(-3).find(".dropdown, .btn-group").removeClass("dropup")}}),rg_estimates.init()}))}});